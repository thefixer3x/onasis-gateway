{"info":{"_postman_id":"78285c39-6333-489a-9bcb-6b7e53e779be","name":"EDoc External App Integration - FOR CLIENTS","description":"<html><head></head><body><h1 id=\"edoc-apis\">ðŸ“„ EDoc APIs</h1>\n<p>The EDoc provides API endpoints that enable you to manage fetch the user transaction informations</p>\n<h2 id=\"getting-started-guide\"><strong>Getting started guide</strong></h2>\n<p>To start using the EDoc API, you need to -</p>\n<ul>\n<li><p>You must get a valid client credentials to send requests to the API endpoints. You can get your credentials by contacting <a href=\"https://\">info@e-doconline.ng</a></p>\n</li>\n<li><p>The API has <a href=\"https://\">rate and usage limits</a>.</p>\n</li>\n<li><p>The API only responds to HTTPS-secured communications. Any requests sent via HTTP return an HTTP 301 redirect to the corresponding HTTPS resources.</p>\n</li>\n<li><p>The API returns request responses in JSON format.</p>\n</li>\n</ul>\n<h2 id=\"authentication\">Authentication</h2>\n<p>The EDoc API uses Bearer Token which needs to be passed as Authorization Header along with the client id.</p>\n<p>StartFragmentAuthorization headers should be in the following format:</p>\n<p><code>Authorization: Bearer CLIENT_SECRET</code></p>\n<p><code>client-id: CLIENT_ID</code></p>\n<p>If an Authorization header or client id is missing, malformed, or invalid, you will receive an HTTP 401 Unauthorized response code.</p>\n<h2 id=\"intergration-approaches\">Intergration Approaches</h2>\n<p>EDoc currently offer Integration using Popup (Javascript SDK).</p>\n<h5 id=\"verficiation-using-pop-up-javascript-sdk\">Verficiation using POP Up (Javascript SDK)</h5>\n<h6 id=\"step1--initialize-consent\">Step1 : Initialize Consent</h6>\n<p>First step for any of the approach will be to initialize consent (from backend). This will give you the unique consent id. which needs to be passed to the frontend for further use.</p>\n<h6 id=\"step2--sdk-integration\">Step2 : SDK Integration</h6>\n<p>For POPUp Integration. Please paste the below code on your web page's head section.</p>\n<pre class=\"click-to-expand-wrapper is-snippet-wrapper\"><code class=\"language-html\">&lt;head&gt;\n...\n&lt;script src=\"https://e-doconline.ng/external/eDocSDK.js\"&gt;\n&lt;/script&gt;\n....\n&lt;/head&gt;\n\n</code></pre>\n<p>After that you can call our Javascript SDK to open a authentication window where user can compelete the Journey.</p>\n<pre class=\"click-to-expand-wrapper is-snippet-wrapper\"><code class=\"language-bash\">var handler = EDoc.setup({\n    key: 'YOUR_PUBLIC_KEY', // Replace with your public key\n    consent_id: 'YOUR_CONSENT_ID', // Replace with conesnt id received from backend\n    onSuccess: function(response) {\n      //this happens after the payment is completed successfully\n      console.log('EDoc Response',response);\n      // Make an AJAX call to your server with the reference to verify the transaction\n    },\n    onError: function(error) {\n       console.log('EDoc Error',error);\n    },\n    onClose: function() {\n      alert('Transaction was not completed, window closed.');\n    },\n  });\n  handler.openWindow();\n\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> In case of successful verification, Transaction information will also be sent via Webhook </p>\n</blockquote>\n<h6 id=\"step-3--call-the-dashboard-api-to-get-the-data\">Step 3 : Call the Dashboard API to get the Data</h6>\n<p>On completion of popup journey, You will get the response in onSuccess call back. After that you can call the Dashboard API (from Backend) to get the to get the summary of the transactions</p>\n<p>Having doubts? Please visit our <a href=\"https://preprod.connect.e-doconline.ng/external-demo\">demo page</a> to see this journey in action.</p>\n<blockquote>\n<p><strong>Note:</strong> In case of successful verification, Transaction information will be sent via Webhook </p>\n</blockquote>\n<h2 id=\"rate-and-usage-limits\">Rate and usage limits</h2>\n<p>API access rate limits apply at a per-API key basis in unit time. The limit is 300 requests per minute. Also, depending on your plan, you may have usage limits. If you exceed either limit, your request will return an HTTP 429 Too Many Requests status code.</p>\n<p>Each API response returns the following set of headers to help you identify your use status:</p>\n<div class=\"click-to-expand-wrapper is-table-wrapper\"><table>\n<thead>\n<tr>\n<th>Header</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>X-RateLimit-Limit</code></td>\n<td>The maximum number of requests that the consumer is permitted to make per minute.</td>\n</tr>\n<tr>\n<td><code>X-RateLimit-Remaining</code></td>\n<td>The number of requests remaining in the current rate limit window.</td>\n</tr>\n<tr>\n<td><code>X-RateLimit-Reset</code></td>\n<td>The time at which the current rate limit window resets in UTC epoch seconds.</td>\n</tr>\n</tbody>\n</table>\n</div><h3 id=\"503-response\">503 response</h3>\n<p>An HTTP <code>503</code> response from our servers indicates there is an unexpected spike in API access traffic. The server is usually operational within the next five minutes. If the outage persists or you receive any other form of an HTTP <code>5XX</code> error, <a href=\"https://e-doconline.ng\">contact support</a>.</p>\n<h3 id=\"environments\">Environments</h3>\n<p><strong>Sandbox URL:</strong> <a href=\"https://\">https://preprod.connect.e-doconline.ng</a></p>\n<p><strong>Production URL:</strong> <a href=\"https://\">https://connect.e-doconline.ng</a></p>\n<h3 id=\"need-some-help\"><strong>Need some help?</strong></h3>\n<p>In case you have questions please share your queries on <a href=\"https://\">info@e-doconline.ng</a>.</p>\n</body></html>","schema":"https://schema.getpostman.com/json/collection/v2.0.0/collection.json","toc":[{"content":"ðŸ“„ EDoc APIs","slug":"edoc-apis"}],"owner":"21424784","collectionId":"78285c39-6333-489a-9bcb-6b7e53e779be","publishedId":"2s9YJdUgXJ","public":true,"customColor":{"top-bar":"FFFFFF","right-sidebar":"303030","highlight":"FF6C37"},"publishDate":"2023-10-03T13:41:29.000Z"},"item":[{"name":"Consent","item":[{"name":"Fetch User Consents","id":"be7450ec-c355-402d-a2d2-69f33638526a","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":{"basicConfig":[{"key":"token","value":"{{accessToken}}"}]},"isInherited":false},"method":"GET","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"url":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/byUser?email=pathik_demo@edoc.ng","description":"<p>This API helps to fetch details of all the existing consents available for a given User (Email).</p>\n","urlObject":{"path":["api","v1","external","consent","byUser"],"host":["https://preprod.connect.e-doconline.ng"],"query":[{"key":"email","value":"pathik_demo@edoc.ng"}],"variable":[]}},"response":[{"id":"6556b565-10b0-49a4-95b4-2ed7d33bfcc4","name":"Fetch Consent","originalRequest":{"method":"GET","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"url":{"raw":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:id","host":["https://preprod.connect.e-doconline.ng"],"path":["api","v1","external","consent",":id"],"variable":[{"key":"id","value":"f2944136-4894-43bc-83d0-c76860059377"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"X-DNS-Prefetch-Control","value":"off"},{"key":"X-Frame-Options","value":"SAMEORIGIN"},{"key":"Strict-Transport-Security","value":"max-age=15552000; includeSubDomains"},{"key":"X-Download-Options","value":"noopen"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-XSS-Protection","value":"1; mode=block"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"370"},{"key":"ETag","value":"W/\"172-sHxTxSCsMApJ89zqIpQxhIWwBTw\""},{"key":"Date","value":"Mon, 16 Oct 2023 05:40:18 GMT"},{"key":"Connection","value":"keep-alive"},{"key":"Keep-Alive","value":"timeout=5"}],"cookie":[],"responseTime":null,"body":"{\n    \"codes\": 200,\n    \"data\": {\n        \"consentId\": \"f2944136-4894-43bc-83d0-c76860059377\",\n        \"consentStatus\": \"Active\",\n        \"bankId\": 1,\n        \"bankName\": \"Wema Bank\",\n        \"accountNumber\": \"1234567890\",\n        \"products\": [\n            {\n                \"code\": \"affordability_full\",\n                \"name\": \"Credit Risk Assessment\"\n            }\n        ],\n        \"consentPrice\": 0,\n        \"startDate\": \"2023-07-16T03:11:52.739Z\",\n        \"endDate\": \"2023-10-16T03:11:56.754Z\"\n    },\n    \"message\": \"Consent fetched successfully\"\n}"}],"_postman_id":"be7450ec-c355-402d-a2d2-69f33638526a"},{"name":"Initialize Consent","id":"199dc26b-2216-4ca0-bf98-beeb089adfe7","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":{"basicConfig":[{"key":"token","value":"{{accessToken}}"}]},"isInherited":false},"method":"POST","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n    \"email\": \"pathik_demo@edoc.ng\",\r\n    \"redirection_url\": \"\"\r\n}","options":{"raw":{"language":"json"}}},"url":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/initialize","description":"<p>Initialize a consent from your backend.</p>\n<p>You will receive a consent id in the response of this request. Using this consent id we need to perform the verification in order to get the transaction data.</p>\n<p>For verification you can use any of the 3 Methods provided by EDoc.</p>\n<ol>\n<li><p>Verficiation using Javascript SDK.</p>\n</li>\n<li><p>Verficiation using Backend API</p>\n</li>\n<li><p>Verficiation using EDoc Redirection</p>\n</li>\n</ol>\n","urlObject":{"path":["api","v1","external","consent","initialize"],"host":["https://preprod.connect.e-doconline.ng"],"query":[],"variable":[]}},"response":[{"id":"7b11bf5b-9594-4205-b514-eed12c4fc383","name":"200 - Success","originalRequest":{"method":"POST","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"body":{"mode":"raw","raw":"{\r\n    \"email\": \"john_doe@edoc.ng\",\r\n    \"redirection_url\": \"\"\r\n}","options":{"raw":{"language":"json"}}},"url":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/initialize"},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"X-DNS-Prefetch-Control","value":"off"},{"key":"X-Frame-Options","value":"SAMEORIGIN"},{"key":"Strict-Transport-Security","value":"max-age=15552000; includeSubDomains"},{"key":"X-Download-Options","value":"noopen"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-XSS-Protection","value":"1; mode=block"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"119"},{"key":"ETag","value":"W/\"77-C9WEDdlED8B0ua35CIOyxnKbKOg\""},{"key":"Date","value":"Sun, 15 Oct 2023 08:16:58 GMT"},{"key":"Connection","value":"keep-alive"},{"key":"Keep-Alive","value":"timeout=5"}],"cookie":[],"responseTime":null,"body":"{\n    \"codes\": 200,\n    \"data\": {\n        \"consentId\": \"0cbe1640-b46c-4dd0-891c-1e5fe5c6cbe9\",\n        \"consentStatus\": \"Created\"\n    },\n    \"message\": \"Success\"\n}"}],"_postman_id":"199dc26b-2216-4ca0-bf98-beeb089adfe7"},{"name":"Fetch Consent","id":"335541ac-6f44-4fde-8777-78555d422d4d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":{"basicConfig":[{"key":"token","value":"{{accessToken}}"}]},"isInherited":false},"method":"GET","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"url":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:id","urlObject":{"path":["api","v1","external","consent",":id"],"host":["https://preprod.connect.e-doconline.ng"],"query":[],"variable":[{"type":"any","value":"ba87b4bb-a2e9-45d6-b883-8474e5e62f42","key":"id"}]}},"response":[{"id":"614c08fc-61b5-4e55-b82c-46bf51987e87","name":"Fetch Consent","originalRequest":{"method":"GET","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"url":{"raw":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:id","host":["https://preprod.connect.e-doconline.ng"],"path":["api","v1","external","consent",":id"],"variable":[{"key":"id","value":"f2944136-4894-43bc-83d0-c76860059377"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"X-DNS-Prefetch-Control","value":"off"},{"key":"X-Frame-Options","value":"SAMEORIGIN"},{"key":"Strict-Transport-Security","value":"max-age=15552000; includeSubDomains"},{"key":"X-Download-Options","value":"noopen"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-XSS-Protection","value":"1; mode=block"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"370"},{"key":"ETag","value":"W/\"172-sHxTxSCsMApJ89zqIpQxhIWwBTw\""},{"key":"Date","value":"Mon, 16 Oct 2023 05:40:18 GMT"},{"key":"Connection","value":"keep-alive"},{"key":"Keep-Alive","value":"timeout=5"}],"cookie":[],"responseTime":null,"body":"{\n    \"codes\": 200,\n    \"data\": {\n        \"consentId\": \"f2944136-4894-43bc-83d0-c76860059377\",\n        \"consentStatus\": \"Active\",\n        \"bankId\": 1,\n        \"bankName\": \"Wema Bank\",\n        \"accountNumber\": \"1234567890\",\n        \"products\": [\n            {\n                \"code\": \"affordability_full\",\n                \"name\": \"Credit Risk Assessment\"\n            }\n        ],\n        \"consentPrice\": 0,\n        \"startDate\": \"2023-07-16T03:11:52.739Z\",\n        \"endDate\": \"2023-10-16T03:11:56.754Z\"\n    },\n    \"message\": \"Consent fetched successfully\"\n}"}],"_postman_id":"335541ac-6f44-4fde-8777-78555d422d4d"},{"name":"Delete Consent","id":"b853f5bc-9ca9-4c65-91b5-db09896c352d","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":{"basicConfig":[{"key":"token","value":"{{accessToken}}"}]},"isInherited":false},"method":"DELETE","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"url":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:id","urlObject":{"path":["api","v1","external","consent",":id"],"host":["https://preprod.connect.e-doconline.ng"],"query":[],"variable":[{"type":"any","value":"f2944136-4894-43bc-83d0-c76860059377","key":"id"}]}},"response":[{"id":"aba8b701-12a2-430b-ac98-4eee0af6dbc4","name":"Delete Consent","originalRequest":{"method":"DELETE","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"url":{"raw":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:id","host":["https://preprod.connect.e-doconline.ng"],"path":["api","v1","external","consent",":id"],"variable":[{"key":"id","value":"f2944136-4894-43bc-83d0-c76860059377"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"X-DNS-Prefetch-Control","value":"off"},{"key":"X-Frame-Options","value":"SAMEORIGIN"},{"key":"Strict-Transport-Security","value":"max-age=15552000; includeSubDomains"},{"key":"X-Download-Options","value":"noopen"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-XSS-Protection","value":"1; mode=block"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"54"},{"key":"ETag","value":"W/\"36-vsjeyh1OeFbGISTROkE9avk0UcM\""},{"key":"Date","value":"Mon, 16 Oct 2023 03:25:41 GMT"},{"key":"Connection","value":"keep-alive"},{"key":"Keep-Alive","value":"timeout=5"}],"cookie":[],"responseTime":null,"body":"{\n    \"codes\": 200,\n    \"message\": \"Consent deleted successfully\"\n}"}],"_postman_id":"b853f5bc-9ca9-4c65-91b5-db09896c352d"}],"id":"1d912442-f4e7-4158-b834-901395ad4980","description":"<p>The Consent API allows you to create and manage the user consents</p>\n","_postman_id":"1d912442-f4e7-4158-b834-901395ad4980"},{"name":"Dashboard","item":[{"name":"Get Dashboard","id":"c9cd1d3b-e520-43ec-a346-a3ece109e9d1","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"bearer","bearer":{"basicConfig":[{"key":"token","value":"{{accessToken}}"}]},"isInherited":false},"method":"GET","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"body":{"mode":"raw","raw":"","options":{"raw":{"language":"json"}}},"url":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:consentId/dashboard","urlObject":{"path":["api","v1","external","consent",":consentId","dashboard"],"host":["https://preprod.connect.e-doconline.ng"],"query":[],"variable":[{"type":"any","value":"95dd1b1d-872f-432c-867c-947ac63d567e","key":"consentId"}]}},"response":[{"id":"2e8390cd-65c2-439d-8d70-364459cb4cc1","name":"200- Dashboard","originalRequest":{"method":"GET","header":[{"key":"client-id","value":"{{clientId}}","type":"text"}],"body":{"mode":"raw","raw":"","options":{"raw":{"language":"json"}}},"url":{"raw":"https://preprod.connect.e-doconline.ng/api/v1/external/consent/:consentId/dashboard","host":["https://preprod.connect.e-doconline.ng"],"path":["api","v1","external","consent",":consentId","dashboard"],"variable":[{"key":"consentId","value":"6af215cf-b79d-4933-b061-c9338df71e3c"}]}},"status":"OK","code":200,"_postman_previewlanguage":"json","header":[{"key":"Date","value":"Fri, 03 Nov 2023 14:18:44 GMT"},{"key":"Content-Type","value":"application/json; charset=utf-8"},{"key":"Content-Length","value":"284"},{"key":"Connection","value":"keep-alive"},{"key":"Access-Control-Allow-Origin","value":"*"},{"key":"X-DNS-Prefetch-Control","value":"off"},{"key":"X-Frame-Options","value":"SAMEORIGIN"},{"key":"Strict-Transport-Security","value":"max-age=15724800; includeSubDomains"},{"key":"X-Download-Options","value":"noopen"},{"key":"X-Content-Type-Options","value":"nosniff"},{"key":"X-XSS-Protection","value":"1; mode=block"},{"key":"ETag","value":"W/\"11c-h/vRRV+sgQeQJ/6DlV7hP/RZtJw\""}],"cookie":[],"responseTime":null,"body":"{\n    \"codes\": 200,\n    \"data\": {\n        \"monthlyIncome\": 0,\n        \"monthlyExpense\": 0,\n        \"inflows\": [\n            {\n                \"category\": \"Inbound transfer\",\n                \"value\": 290000\n            }\n        ],\n        \"outflows\": [\n            {\n                \"category\": \"Bank charges\",\n                \"value\": 258\n            },\n            {\n                \"category\": \"Outgoing payment\",\n                \"value\": 8000\n            },\n            {\n                \"category\": \"Outbound transfer\",\n                \"value\": 325000\n            }\n        ]\n    },\n    \"message\": \"Success\"\n}"}],"_postman_id":"c9cd1d3b-e520-43ec-a346-a3ece109e9d1"}],"id":"bf0a2407-923e-4361-a42f-6df0a1c2f41b","description":"<p>The Dashboard API allows you to fetch the categorization of the transaction data provided for the given context.</p>\n","_postman_id":"bf0a2407-923e-4361-a42f-6df0a1c2f41b"},{"name":"Webhook","item":[{"name":"Sample Request","id":"bfc91938-6146-4170-b864-618903f730d6","protocolProfileBehavior":{"disableBodyPruning":true},"request":{"auth":{"type":"noauth","isInherited":false},"method":"POST","header":[{"key":"x-signature","value":"<SIGNATURE_SIGNED>","type":"text"}],"body":{"mode":"raw","raw":"{\r\n    \"event\": \"consent.transactions\",\r\n    \"data\": {\r\n        \"consentId\": \"b4fa2d6e-44ff-4732-b67a-dd4774ad345f\",\r\n        \"consentStatus\": \"Active\",\r\n        \"balance\": 57157.7,\r\n        \"transactions\": [\r\n            {\r\n                \"creditType\": \"Debit\",\r\n                \"amount\": 20,\r\n                \"currency\": \"\",\r\n                \"transactionReference\": \"\",\r\n                \"transactionDate\": \"2023-10-17T07:42:48.114Z\",\r\n                \"transactionInformation\": \"SMS Alert Charges for MAY 25 to JUN 24, 2023\"\r\n            },\r\n            {\r\n                \"creditType\": \"Credit\",\r\n                \"amount\": 250000,\r\n                \"currency\": \"\",\r\n                \"transactionReference\": \"000001230601164553224122114915\",\r\n                \"transactionDate\": \"2023-09-30T07:42:48.114Z\",\r\n                \"transactionInformation\": \"NIP:OLUBUKOLA OGUNDIPE-Transfer from OLUBUKOLA OG\"\r\n            }\r\n        ]\r\n    }\r\n}","options":{"raw":{"language":"json"}}},"url":"<YOUR_WEBHOOK_URL>","urlObject":{"host":["<YOUR_WEBHOOK_URL>"],"query":[],"variable":[]}},"response":[],"_postman_id":"bfc91938-6146-4170-b864-618903f730d6"}],"id":"e9224298-8f6c-4d90-b829-b70b30cb86ec","description":"<p>Webhooks allow you to set up a notification system that can be used to receive updates on certain requests made to the EDoc API.</p>\n<p>A webhook URL is simply a <code>POST</code> endpoint that a resource server sends updates to. The URL needs to parse a JSON request and return a <code>200 OK</code></p>\n<blockquote>\n<p><strong>Note:</strong> We recommend that you use webhook to get transactions over using callbacks or polling. With callbacks, we don't have control over what happens on the customer's end. Neither do you. Callbacks can fail if the network connection on a customer's device fails or is weak or if the device goes off after consent verification. </p>\n</blockquote>\n<h2 id=\"verify-event-origin\">Verify event origin</h2>\n<p>Since your webhook URL is publicly available, you need to verify that events originate from EDoc and not a bad actor. For that you need to do Signature validation</p>\n<h3 id=\"signature-validation\">Signature validation</h3>\n<p>Events sent from EDoc carry the <code>x-signature header</code>. The value of this header is a <code>HMAC SHA512</code> signature of the event payload signed using your secret key. Verifying the header signature should be done before processing the event:</p>\n<pre class=\"click-to-expand-wrapper is-snippet-wrapper\"><code class=\"language-javascript\">const crypto = require('crypto');\nconst secret = process.env.EDOC_SECRET_KEY;\n// Using Express\napp.post(\"/my/webhook/url\", function(req, res) {\n    //validate event\n    const hash = crypto.createHmac('sha512', secret).update(JSON.stringify(req.body)).digest('hex');\n    if (hash == req.headers['x-signature']) {\n    // Retrieve the request's body\n    const event = req.body;\n    // Do something with event  \n    }\n    res.send(200);\n});\n\n</code></pre>\n<h6 id=\"webhook-events--data\">Webhook Events &amp; Data</h6>\n<p>Right now, We are only supporting 1 event. \"<strong>consent.transactions</strong>\". Here is the sample data for the event.</p>\n<pre class=\"click-to-expand-wrapper is-snippet-wrapper\"><code class=\"language-json\">{\n    \"event\": \"consent.transactions\",\n    \"data\": {\n        \"consentId\": \"b4fa2d6e-44ff-4732-b67a-dd4774ad345f\",\n        \"consentStatus\": \"Active\",\n        \"balance\": 57157.7,\n        \"transactions\": [{\n                \"creditType\": \"Debit\",\n                \"amount\": 20,\n                \"currency\": \"\",\n                \"transactionReference\": \"\",\n                \"transactionDate\": \"2023-10-17T07:42:48.114Z\",\n                \"transactionInformation\": \"SMS Alert Charges for MAY 25 to JUN 24, 2023\"\n            }, {\n                \"creditType\": \"Credit\",\n                \"amount\": 250000,\n                \"currency\": \"\",\n                \"transactionReference\": \"000001230601164553224122114915\",\n                \"transactionDate\": \"2023-09-30T07:42:48.114Z\",\n                \"transactionInformation\": \"NIP:OLUBUKOLA OGUNDIPE-Transfer from OLUBUKOLA OG\"\n            }\n        ]\n    }\n}\n\n</code></pre>\n","_postman_id":"e9224298-8f6c-4d90-b829-b70b30cb86ec"},{"name":"Test Consent","item":[],"id":"ff9f19a0-e52a-42d3-ba89-747c8abf5938","description":"<p>You can use the following test details to test with different banks.</p>\n<p><strong>Wema</strong></p>\n<blockquote>\n<p>Account Number: 1002004000<br />Verification Type: Mobile App </p>\n</blockquote>\n<p><strong>Heritage</strong></p>\n<blockquote>\n<p>Account Number: 2002002001<br />Verification Type: OTP<br />Test OTP: 000000 </p>\n</blockquote>\n<p><strong>Polaris</strong></p>\n<blockquote>\n<p>Account Number:<br />Verification Type: OTP<br />Test OTP: 000000</p>\n</blockquote>\n","_postman_id":"ff9f19a0-e52a-42d3-ba89-747c8abf5938"}],"event":[{"listen":"prerequest","script":{"id":"737c2a2d-8908-4ef4-9361-328433f1219a","type":"text/javascript","exec":[""]}},{"listen":"test","script":{"id":"97a4a4b8-7509-4f29-9803-489bddd02299","type":"text/javascript","exec":[""]}}],"variable":[{"key":"eDocAPIBaseUrl","value":"https://preprod.connect.e-doconline.ng"},{"key":"accessToken","value":""},{"key":"clientId","value":""}]}